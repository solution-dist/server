{"version":3,"sources":["../src/backend/config/index.ts","../src/backend/routes/index.ts","../src/backend/index.ts","../src/main.ts"],"names":["port","hostname","origin","logLevel","staticPath","staticDir","path","config","c","routes","server","createServer"],"mappings":";mLAiBI,IAAMA,CAAAA,CAAgB,OAAA,CAAQ,IAAI,IAAA,EAA6B,GAAA,CACzDC,CAAAA,CAAgB,OAAA,CAAQ,IAAI,QAAA,EAA6B,WAAA,CACzDC,CAAAA,CAAAA,CAAiB,OAAA,CAAQ,IAAI,YAAA,EAA4B,CAAA,OAAA,EAAUD,CAAQ,CAAA,CAAA,EAAID,CAAI,CAAA,CAAA,EAAI,KAAA,CAAM,GAAG,CAAA,CAChGG,EAAiB,OAAA,CAAQ,GAAA,CAAI,SAAA,EAA4B,MAAA,CACzDC,EAAgB,OAAA,CAAQ,GAAA,CAAI,WAAA,EAA6B,SAAA,CACzDC,EAAgBC,kBAAAA,CAAK,OAAA,CAAQ,OAAA,CAAQ,GAAA,CAAI,YAAgB,uBAAuB,CAAA,CAGzEC,CAAAA,CAAwB,CACjC,KAAkBP,CAAAA,CAClB,QAAA,CAAkBC,CAAAA,CAClB,cAAA,CAAkB,IAClB,cAAA,CAAkB,QAAA,CAClB,MAAA,CAAkB,GAElB,MAAA,CAAkB,CACd,IAAA,CAAcG,CAAAA,CACd,UAAcC,CAClB,CAAA,CAEA,QAAA,CAAkB,CACd,UAAc,CACV,GAAA,CAAkB,GAAA,CAClB,QAAA,CAAkB,IAClB,OAAA,CAAkB,4CAAA,CAClB,YAAA,CAAmBG,CAAAA,EACAA,EAAE,OAAA,EAAS,OAAA,EAAS,GAAA,GAAM,WAAW,GACnCA,CAAAA,CAAE,EAAA,EAAM,SAEjC,CAAA,CACA,KAAc,CACV,MAAA,CAAkBN,CAAAA,CAClB,WAAA,CAAkB,KAClB,OAAA,CAAkB,CAAC,KAAA,CAAO,MAAA,CAAQ,MAAO,QAAA,CAAU,OAAO,CAAA,CAC1D,cAAA,CAAkB,CAAC,cAAA,CAAgB,eAAA,CAAiB,cAAc,CACtE,EACA,IAAA,CAAM,IACV,CAAA,CAEA,OAAA,CAAkB,CACd,KAAA,CAAcC,CAAAA,CACd,MAAA,CAAc,IAClB,EAOA,UAAA,CAAY,SAAY,CAAE,CAC9B,ECnDO,IAAMM,CAAAA,CAA6B,CACtC,CACI,OAAU,KAAA,CACV,IAAA,CAAU,GAAA,CACV,OAAA,CAAUD,GACCA,CAAAA,CAAE,IAAA,CAAK,CAAE,OAAA,CAAS,cAAe,CAAC,CAEjD,CAEJ,CAAA,CCPO,IAAME,CAAAA,CAASC,aAAAA,CAAa,CAAE,GAAGJ,EAAQ,MAAA,CAAAE,CAAO,CAAC,CAAA,CCFhDC,EAAO,KAAA,EAAM","file":"main.cjs","sourcesContent":["// src/backend/config/index.ts\r\n//\r\n// Made with ❤️ by Maysara.\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\r\n\r\n    import { ServerConfig } from '@je-es/server';\r\n    import path from 'path';\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ INIT ════════════════════════════════════════╗\r\n\r\n    const port          = process.env.PORT                      || 3000;\r\n    const hostname      = process.env.HOSTNAME                  || 'localhost';\r\n    const origin        = (process.env.CORS_ORIGINS             || `http://${hostname}:${port}`).split(',');\r\n    const logLevel      = (process.env.LOG_LEVEL                || 'info') as 'error' | 'warn' | 'info' | 'debug';\r\n    const staticPath    = process.env.STATIC_PATH               || '/static';\r\n    const staticDir     = path.resolve(process.env.STATIC_DIR   || './src/frontend/static');\r\n    // const dbName        = process.env.DATABASE_URL              || '{{name}}.db';\r\n\r\n    export const config : ServerConfig = {\r\n        port            : port,\r\n        hostname        : hostname,\r\n        requestTimeout  : 30000,\r\n        maxRequestSize  : 10485760,\r\n        routes          : [],\r\n\r\n        static          : {\r\n            path        : staticPath,\r\n            directory   : staticDir\r\n        },\r\n\r\n        security        : {\r\n            rateLimit   : {\r\n                max             : 100,\r\n                windowMs        : 60000,\r\n                message         : 'Too many requests. Please try again later.',\r\n                keyGenerator    : (c) => {\r\n                    const apiKey = c.request?.headers?.get?.('x-api-key');\r\n                    return apiKey || c.ip || 'unknown';\r\n                },\r\n            },\r\n            cors        : {\r\n                origin          : origin,\r\n                credentials     : true,\r\n                methods         : ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],\r\n                allowedHeaders  : ['Content-Type', 'Authorization', 'X-Request-ID']\r\n            },\r\n            csrf: true\r\n        },\r\n\r\n        logging         : {\r\n            level       : logLevel,\r\n            pretty      : true\r\n        },\r\n\r\n        // database        : {\r\n        //     connection  : dbName,\r\n        //     schema      : { }\r\n        // },\r\n\r\n        onShutdown: async () => { },\r\n    };\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝","// src/backend/config/routes/index.ts\r\n//\r\n// Made with ❤️ by Maysara.\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\r\n\r\n    import { RouteDefinition, type AppContext } from '@je-es/server';\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ INIT ════════════════════════════════════════╗\r\n\r\n    export const routes : RouteDefinition[] = [\r\n        {\r\n            method  : 'GET',\r\n            path    : '/',\r\n            handler: (c: AppContext) => {\r\n                return c.json({ message: 'Hello World!' });\r\n            }\r\n        },\r\n\r\n    ];\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝","// src/backend/index.ts\n//\n// Made with ❤️ by Maysara.\n\n\n\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\n\n    import { server as createServer }   from '@je-es/server';\n    import { config }                   from './config';\n    import { routes }                   from './routes';\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\n\n\n// ╔════════════════════════════════════════ CORE ════════════════════════════════════════╗\n\n    // create\n    export const server = createServer({ ...config, routes });\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝","// src/main.ts\n//\n// Made with ❤️ by Maysara.\n\n\n\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\n\n    import * as Backend from './backend';\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\n\n\n\n// ╔════════════════════════════════════════ CORE ════════════════════════════════════════╗\n\n    Backend.server.start();\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝"]}