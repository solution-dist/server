{"version":3,"sources":["../src/config/server.ts","../src/routes/server.ts","../src/core/server.ts","../src/main.ts"],"names":["port","hostname","origin","logLevel","staticPath","staticDir","path","dbName","config","c","routes","server","createServer"],"mappings":";uDAkBI,IAAMA,CAAAA,CAAgB,OAAA,CAAQ,GAAA,CAAI,MAA6B,GAAA,CACzDC,CAAAA,CAAgB,QAAQ,GAAA,CAAI,QAAA,EAA6B,YACzDC,CAAAA,CAAAA,CAAiB,OAAA,CAAQ,GAAA,CAAI,YAAA,EAA4B,UAAUD,CAAQ,CAAA,CAAA,EAAID,CAAI,CAAA,CAAA,EAAI,MAAM,GAAG,CAAA,CAChGG,CAAAA,CAAiB,OAAA,CAAQ,IAAI,SAAA,EAA4B,MAAA,CACzDC,EAAgB,OAAA,CAAQ,GAAA,CAAI,aAA6B,SAAA,CACzDC,CAAAA,CAAgBC,CAAAA,CAAK,OAAA,CAAQ,QAAQ,GAAA,CAAI,UAAA,EAAgB,cAAc,CAAA,CACvEC,EAAgB,OAAA,CAAQ,GAAA,CAAI,YAAA,EAA6B,aAAA,CAElDC,EAAwB,CACjC,IAAA,CAAkBR,EAClB,QAAA,CAAkBC,CAAAA,CAClB,eAAkB,GAAA,CAClB,cAAA,CAAkB,QAAA,CAClB,MAAA,CAAkB,EAAC,CAEnB,MAAA,CAAkB,CACd,IAAA,CAAcG,EACd,SAAA,CAAcC,CAClB,CAAA,CAEA,QAAA,CAAkB,CACd,SAAA,CAAc,CACV,IAAkB,GAAA,CAClB,QAAA,CAAkB,IAClB,OAAA,CAAkB,4CAAA,CAClB,YAAA,CAAmBI,CAAAA,EACAA,EAAE,OAAA,EAAS,OAAA,EAAS,GAAA,GAAM,WAAW,GACnCA,CAAAA,CAAE,EAAA,EAAM,SAEjC,CAAA,CACA,KAAc,CACV,MAAA,CAAkBP,EAClB,WAAA,CAAkB,IAAA,CAClB,QAAkB,CAAC,KAAA,CAAO,MAAA,CAAQ,KAAA,CAAO,SAAU,OAAO,CAAA,CAC1D,cAAA,CAAkB,CAAC,eAAgB,eAAA,CAAiB,cAAc,CACtE,CAAA,CACA,KAAM,IACV,CAAA,CAEA,QAAkB,CACd,KAAA,CAAcC,EACd,MAAA,CAAc,IAClB,CAAA,CAEA,QAAA,CAAkB,CACd,UAAA,CAAcI,CAElB,CAAA,CAEA,UAAA,CAAY,SAAY,CAExB,CACJ,CAAA,CCtDO,IAAMG,EAA6B,CACtC,CACI,OAAU,KAAA,CACV,IAAA,CAAU,IACV,OAAA,CAAUD,CAAAA,EACCA,CAAAA,CAAE,IAAA,CAAK,CAAE,OAAA,CAAS,cAAe,CAAC,CAEjD,CAEJ,ECPO,IAAME,CAAAA,CAASC,MAAAA,CAAa,CAAE,GAAGJ,CAAAA,CAAQ,MAAA,CAAAE,CAAO,CAAC,CAAA,CCFxDC,EAAO,KAAA,EAAM","file":"main.js","sourcesContent":["// src/app/config/server.ts\r\n//\r\n// Made with ❤️ by Maysara.\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\r\n\r\n    import { type ServerConfig, } from '@je-es/server';\r\n    // import { todos } from './db';\r\n    import path from 'path';\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ INIT ════════════════════════════════════════╗\r\n\r\n    const port          = process.env.PORT                      || 3000;\r\n    const hostname      = process.env.HOSTNAME                  || 'localhost';\r\n    const origin        = (process.env.CORS_ORIGINS             || `http://${hostname}:${port}`).split(',');\r\n    const logLevel      = (process.env.LOG_LEVEL                || 'info') as any;\r\n    const staticPath    = process.env.STATIC_PATH               || '/static';\r\n    const staticDir     = path.resolve(process.env.STATIC_DIR   || './src/static');\r\n    const dbName        = process.env.DATABASE_URL              || '{{name}}.db';\r\n\r\n    export const config : ServerConfig = {\r\n        port            : port,\r\n        hostname        : hostname,\r\n        requestTimeout  : 30000,\r\n        maxRequestSize  : 10485760,\r\n        routes          : [],\r\n\r\n        static          : {\r\n            path        : staticPath,\r\n            directory   : staticDir\r\n        },\r\n\r\n        security        : {\r\n            rateLimit   : {\r\n                max             : 100,\r\n                windowMs        : 60000,\r\n                message         : 'Too many requests. Please try again later.',\r\n                keyGenerator    : (c) => {\r\n                    const apiKey = c.request?.headers?.get?.('x-api-key');\r\n                    return apiKey || c.ip || 'unknown';\r\n                },\r\n            },\r\n            cors        : {\r\n                origin          : origin,\r\n                credentials     : true,\r\n                methods         : ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],\r\n                allowedHeaders  : ['Content-Type', 'Authorization', 'X-Request-ID']\r\n            },\r\n            csrf: true\r\n        },\r\n\r\n        logging         : {\r\n            level       : logLevel,\r\n            pretty      : true\r\n        },\r\n\r\n        database        : {\r\n            connection  : dbName,\r\n            // schema      : { todos }\r\n        },\r\n\r\n        onShutdown: async () => {\r\n            // console.log('Server shutting down gracefully...');\r\n        },\r\n    };\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝","// src/app/config/routes/server.ts\r\n//\r\n// Made with ❤️ by Maysara.\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\r\n\r\n    import { RouteDefinition, type AppContext } from '@je-es/server';\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ INIT ════════════════════════════════════════╗\r\n\r\n    export const routes : RouteDefinition[] = [\r\n        {\r\n            method  : 'GET',\r\n            path    : '/',\r\n            handler: (c: AppContext) => {\r\n                return c.json({ message: 'Hello World!' });\r\n            }\r\n        },\r\n\r\n    ];\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝","// src/core/server.ts\n//\n// Made with ❤️ by Maysara.\n\n\n\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\n\n    import { server as createServer }   from '@je-es/server';\n    import { config }                   from '../config/server';\n    import { routes }                   from '../routes/server';\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\n\n\n// ╔════════════════════════════════════════ CORE ════════════════════════════════════════╗\n\n    // create\n    export const server = createServer({ ...config, routes });\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝","// src/main.ts\n//\n// Made with ❤️ by Maysara.\n\n\n\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\n\n    import { server } from './core/server';\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\n\n\n\n// ╔════════════════════════════════════════ CORE ════════════════════════════════════════╗\n\n    server.start();\n\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝"]}